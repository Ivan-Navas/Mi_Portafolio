"use strict";!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.logo=o():e.logo=o()}(self,(()=>(self.webpackChunk=self.webpackChunk||[]).push([[781],{8560:(e,o,s)=>{s.r(o),s.d(o,{default:()=>u}),s(5149);var t=s(2457),r=s(1221),c=s(6427),a=s(3691),i=s(9007),l=s(1494),n=s(468),d=s(4230);s(4096),new class{constructor(){r.Z.ready((()=>{this.processCopyToAccount()}))}processCopyToAccount(){let e=!1;(0,r.Z)(".js-copy-to-account").each((o=>{const s=(0,r.Z)(o);s.on("keydown",(async o=>{if(13===o.keyCode&&!e){e=!0;try{await(0,a.Z)(`${t.Vi.DOMAIN}/api/logo/copy-to-account/${s.data("id")}/${s.value()}`,{error:"something went wrong",success:"succesfully copied to account",useServerError:!0})}catch(e){n.Z.captureError(e)}e=!1}}))}))}},new class{constructor(){r.Z.ready((()=>{this.processCopyFromLogo()}))}processCopyFromLogo(){let e=!1;(0,r.Z)(".js-copy-from-logo").each((o=>{const s=(0,r.Z)(o);s.on("keydown",(async o=>{if(13===o.keyCode&&!e){e=!0;try{await(0,a.Z)(`${t.Vi.DOMAIN}/api/logo/copy-from-logo/${s.data("id")}/${s.value()}`,{error:"something went wrong",success:"succesfully copied from logo",useServerError:!0})}catch(e){n.Z.captureError(e)}e=!1}}))}))}};const u=new class{constructor(){var e;(e="hasTrackedPurchase")in this?Object.defineProperty(this,e,{value:false,enumerable:!0,configurable:!0,writable:!0}):this[e]=false,r.Z.ready((()=>{this.logoID=(0,r.Z)(".js-logo__actions").data("logo-id");const e=window.mybrandnewlogo.logo,o=d.Z.$modal;e.purchaseIntent&&(o.length?o.hasEvent("open")&&o.trigger("open"):n.Z.captureError("no modal to open")),this.processDelete(),this.processDuplicate(),this.checkPackage(),this.processFreeDownload()}))}processFreeDownload(){(0,r.Z)(".js-free-download").on("click",(async()=>{await(0,a.Z)(`${t.Vi.DOMAIN}/api/payment/free-download`,{logoID:this.logoID},{error:!0,useServerError:!0,isInBody:!0})||n.Z.captureError("no result")}))}async checkPackage(){const e=(0,r.Z)(".js-logo__action-download"),o=(0,r.Z)(".js-image-download");if(e.length&&!e.hasClass("active"))try{const s=await(0,a.Z)(`${t.Vi.DOMAIN}/api/logo/check-package/${this.logoID}`);if(s.success){const t=/failed/i.test(s.status),a=/canceled/i.test(s.status);if(t||a)(0,r.Z)(".js-logo__loading-text").text(s.message),window.location=window.location.href.split("?")[0];else{e.toggleClass("active",s.isComplete),o.toggleClass("active",s.isComplete);const t=s.purchaseInfo;t&&!this.hasTrackedPurchase&&(0!==t.total&&c.Z.trackPurchase(t),this.hasTrackedPurchase=!0),s.isComplete||(await i.Z.delay(5),this.checkPackage())}}else n.Z.captureError(s.errror)}catch(e){n.Z.captureError("error checking package",{message:e})}else c.Z.trackProductDetailView({id:this.logoID,name:"logo single"})}processDelete(){const e=(0,r.Z)(".js-modal-delete");e.find(".js-submit").on("click",(()=>{l.Z.setInactive(e),Promise.all([l.Z.waitMinimum(),(0,a.Z)(`${t.Vi.DOMAIN}/api/logo/delete/${this.logoID}`,null,{error:"something went wrong",isInBody:!0}).then((o=>{l.Z.processResult({result:o,$modal:e})})).catch((o=>{n.Z.captureError(o,{showReportDialog:!0}),l.Z.setActive(e),e.trigger("close")}))])}))}processDuplicate(){const e=(0,r.Z)(".js-modal-duplicate");e.find(".js-submit").on("click",(()=>{l.Z.setInactive(e),Promise.all([l.Z.waitMinimum(),(0,a.Z)(`${t.Vi.DOMAIN}/api/logo/duplicate/${this.logoID}`,null,{error:"something went wrong",isInBody:!0}).then((o=>{l.Z.processResult({result:o,$modal:e})})).catch((o=>{n.Z.captureError(o,{showReportDialog:!0}),l.Z.setActive(e),e.trigger("close")}))])}))}}},4096:(e,o,s)=>{var t=s(1221),r=s(3691),c=s(468),a=s(2457);new class{constructor(){t.Z.ready((()=>{this.processChangeKeywords()}))}processChangeKeywords(){let e=!1;(0,t.Z)(".js-change-keywords").each((o=>{const s=(0,t.Z)(o);s.on("keydown",(async o=>{if(13===o.keyCode&&!e){e=!0;try{await(0,r.Z)(`${a.Vi.DOMAIN}/api/logo/set-keywords/${s.data("id")}`,{keywords:s.value()},{error:"something went wrong",success:"succesfully changed keywords",useServerError:!0})}catch(e){c.Z.captureError(e)}e=!1}}))}))}}}},e=>{var o=o=>e(e.s=o);return e.O(0,[839,466,230],(()=>(o(3407),o(8560)))),e.O()}])));